CONTEXT TValSup_SIAM_Extensions IN ENGLISH

--[TParty value provisioning]--

CLASSIFY PartyRef ISA TTValue
CLASSIFY TTValue, IdentRef ISA "TTValue_Or_IdentRef"  -- Fix the typology-tree

ROLE ExecEngine MAINTAINS "The value of a TParty (TText) is the PartyRef of the Account of that TParty"
RULE "The value of a TParty (TText) is the PartyRef of the Account of that TParty":
  ttIsaTTParty;ttPartyAcc;accPartyRef |- ttValue
VIOLATION (TXT "{EX} InsPair;ttValue;TText;", SRC I[TText], TXT ";TTValue;", TGT I[TTValue])

ROLE ExecEngine MAINTAINS "Clear TText value when its TParty is not instantiated"
RULE "Clear TText value when its TParty is not instantiated": 
  ttIsaTTParty;ttValue |- ttPartyAcc;accPartyRef
VIOLATION (TXT "{EX} DelPair;ttValue;TText;", SRC I[TText], TXT ";TTValue;", TGT I[TTValue])

ENDCONTEXT